(function(a){a.fn.circliful=function(b,d){var c=a.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:false,width:15,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null},b);return this.each(function(){var z=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree"];var f={};var G="";var o=0;var u=a(this);var B=false;var w,H;u.addClass("circliful");e(u);if(u.data("text")!=undefined){w=u.data("text");if(u.data("icon")!=undefined){G=a("<i></i>").addClass("fa "+a(this).data("icon")).css({color:f.iconcolor,"font-size":f.iconsize})}if(u.data("type")!=undefined){k=a(this).data("type");if(k=="half"){t(u,"circle-text-half",(f.dimension/1.45))}else{t(u,"circle-text",f.dimension)}}else{t(u,"circle-text",f.dimension)}}if(a(this).data("total")!=undefined&&a(this).data("part")!=undefined){var J=a(this).data("total")/100;percent=((a(this).data("part")/J)/100).toFixed(3);o=(a(this).data("part")/J).toFixed(3)}else{if(a(this).data("percent")!=undefined){percent=a(this).data("percent")/100;o=a(this).data("percent")}else{percent=c.percent/100}}if(a(this).data("info")!=undefined){H=a(this).data("info");if(a(this).data("type")!=undefined){k=a(this).data("type");if(k=="half"){E(u,0.9)}else{E(u,1.25)}}else{E(u,1.25)}}a(this).width(f.dimension+"px");var j=a("<canvas></canvas>").attr({width:f.dimension,height:f.dimension}).appendTo(a(this)).get(0);var g=j.getContext("2d");var s=j.width/2;var r=j.height/2;var D=f.percent*360;var I=D*(Math.PI/180);var m=j.width/2.5;var C=2.3*Math.PI;var A=0;var F=false;var p=f.animationstep===0?o:0;var q=Math.max(f.animationstep,0);var v=Math.PI*2;var i=Math.PI/2;var k="";var l=true;var h=(f.startdegree/180)*Math.PI;if(a(this).data("type")!=undefined){k=a(this).data("type");if(k=="half"){C=2*Math.PI;A=3.13;v=Math.PI*1;i=Math.PI/0.996}}function t(K,x,y){a("<span></span>").appendTo(K).addClass(x).text(w).prepend(G).css({"line-height":y+"px","font-size":f.fontsize+"px"})}function E(y,x){a("<span></span>").appendTo(y).addClass("circle-info-half").css("line-height",(f.dimension*x)+"px").text(H)}function e(x){a.each(z,function(y,K){if(x.data(K)!=undefined){f[K]=x.data(K)}else{f[K]=a(c).attr(K)}if(K=="fill"&&x.data("fill")!=undefined){B=true}})}function n(x){g.clearRect(0,0,j.width,j.height);g.beginPath();g.arc(s,r,m,A,C,false);g.lineWidth=f.width+1;g.strokeStyle=f.bgcolor;g.stroke();if(B){g.fillStyle=f.fill;g.fill()}g.beginPath();g.arc(s,r,m,-(i)+h,((v)*x)-i+h,false);if(f.border=="outline"){g.lineWidth=f.width+13}else{if(f.border=="inline"){g.lineWidth=f.width-13}}g.strokeStyle=f.fgcolor;g.stroke();if(p<o){p+=q;requestAnimationFrame(function(){n(Math.min(p,o)/100)},u)}if(p==o&&l&&typeof(b)!="undefined"){if(a.isFunction(b.complete)){b.complete();l=false}}}n(p/100)})}}(jQuery));